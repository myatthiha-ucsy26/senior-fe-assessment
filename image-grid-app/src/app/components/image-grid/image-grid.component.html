<mat-card class="image-grid-container">
  <div class="no-image" *ngIf="totalLength === 0">
    <p>There is no image.</p>
  </div>
  <div class="paginator-container" *ngIf="getPaginatedImages().length > 0">
    <div class="pagination-controls">
      <button mat-icon-button (click)="prevPage()" [disabled]="isFirstPage()">
        <mat-icon>keyboard_arrow_left</mat-icon>
      </button>
      <span class="page-info"
        >{{ calculateStartIndex() }} - {{ calculateEndIndex() }} of
        {{ totalLength }}</span
      >
      <button mat-icon-button (click)="nextPage()" [disabled]="isLastPage()">
        <mat-icon>keyboard_arrow_right</mat-icon>
      </button>
    </div>
  </div>
  <mat-grid-list [cols]="cols">
    <mat-grid-tile *ngFor="let image of getPaginatedImages()">
      <mat-card class="image-card">
        <mat-card-header>
          <div class="image-container">
            <img
              NgOptimizedImage
              [src]="image.url"
              ngSrcset="600w, 1000w, 1500w, 2000w, 2500w"
              alt="Image"
              width="100%"
              height="200"
              (load)="onImageLoaded(image)"
              [ngClass]="{ loaded: !imageLoadingStates[images.indexOf(image)] }"
            />
            <mat-progress-spinner
              style="margin: 0 auto"
              diameter="30"
              *ngIf="imageLoadingStates[images.indexOf(image)]"
              mode="indeterminate"
            ></mat-progress-spinner>
          </div>
        </mat-card-header>
        <mat-card-actions class="img-action">
          <button mat-button (click)="viewImage(image.url)">View</button>
          <button mat-button (click)="assignToTask(image)">
            Assign to Task
          </button>
        </mat-card-actions>
      </mat-card>
    </mat-grid-tile>
  </mat-grid-list>
</mat-card>
